{{- if and .Values.local.grafana.enabled .Values.dashboards.metrics.enabled }}
---
apiVersion: v1
kind: ConfigMap
metadata:
  name: mimir-dashboards-1
  namespace: {{ $.Release.Namespace }}
data:
  "mimir-alertmanager-resources.json": |
    {{ $.Files.Get "src/dashboards/mimir-alertmanager-resources.json" | fromJson | toJson }}
  "mimir-alertmanager.json": |
    {{ $.Files.Get "src/dashboards/mimir-alertmanager.json" | fromJson | toJson }}
  "mimir-compactor-resources.json": |
    {{ $.Files.Get "src/dashboards/mimir-compactor-resources.json" | fromJson | toJson }}
  "mimir-compactor.json": |
    {{ $.Files.Get "src/dashboards/mimir-compactor.json" | fromJson | toJson }}
  "mimir-config.json": |
    {{ $.Files.Get "src/dashboards/mimir-config.json" | fromJson | toJson }}
  "mimir-object-store.json": |
    {{ $.Files.Get "src/dashboards/mimir-object-store.json" | fromJson | toJson }}
  "mimir-overrides.json": |
    {{ $.Files.Get "src/dashboards/mimir-overrides.json" | fromJson | toJson }}
  "mimir-overview-networking.json": |
    {{ $.Files.Get "src/dashboards/mimir-overview-networking.json" | fromJson | toJson }}
  "mimir-overview-resources.json": |
    {{ $.Files.Get "src/dashboards/mimir-overview-resources.json" | fromJson | toJson }}
  "mimir-overview.json": |
    {{ $.Files.Get "src/dashboards/mimir-overview.json" | fromJson | toJson }}
  "mimir-queries.json": |
    {{ $.Files.Get "src/dashboards/mimir-queries.json" | fromJson | toJson }}
  "mimir-reads-networking.json": |
    {{ $.Files.Get "src/dashboards/mimir-reads-networking.json" | fromJson | toJson }}
  "mimir-reads-resources.json": |
    {{ $.Files.Get "src/dashboards/mimir-reads-resources.json" | fromJson | toJson }}
  "mimir-reads.json": |
    {{ $.Files.Get "src/dashboards/mimir-reads.json" | fromJson | toJson }}
  "mimir-remote-ruler-reads-networking.json": |
    {{ $.Files.Get "src/dashboards/mimir-remote-ruler-reads-networking.json" | fromJson | toJson }}
  "mimir-remote-ruler-reads-resources.json": |
    {{ $.Files.Get "src/dashboards/mimir-remote-ruler-reads-resources.json" | fromJson | toJson }}
  "mimir-remote-ruler-reads.json": |
    {{ $.Files.Get "src/dashboards/mimir-remote-ruler-reads.json" | fromJson | toJson }}
  "mimir-rollout-progress.json": |
    {{ $.Files.Get "src/dashboards/mimir-rollout-progress.json" | fromJson | toJson }}
  "mimir-ruler.json": |
    {{ $.Files.Get "src/dashboards/mimir-ruler.json" | fromJson | toJson }}
  "mimir-scaling.json": |
    {{ $.Files.Get "src/dashboards/mimir-scaling.json" | fromJson | toJson }}
  "mimir-slow-queries.json": |
    {{ $.Files.Get "src/dashboards/mimir-slow-queries.json" | fromJson | toJson }}
  "mimir-tenants.json": |
    {{ $.Files.Get "src/dashboards/mimir-tenants.json" | fromJson | toJson }}
  "mimir-top-tenants.json": |
    {{ $.Files.Get "src/dashboards/mimir-top-tenants.json" | fromJson | toJson }}
  "mimir-writes-networking.json": |
    {{ $.Files.Get "src/dashboards/mimir-writes-networking.json" | fromJson | toJson }}
  "mimir-writes-resources.json": |
    {{ $.Files.Get "src/dashboards/mimir-writes-resources.json" | fromJson | toJson }}
  "mimir-writes.json": |
    {{ $.Files.Get "src/dashboards/mimir-writes.json" | fromJson | toJson }}
{{- end }}